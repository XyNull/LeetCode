
public class Main {
	public static void main(String[] args){
		int[] a = {4,2,5,1,6,3,7};
		int[] b = {4,5,2,6,7,3,1};
		buildTree(a,b);
	}
	
    public static TreeNode buildTree(int[] in, int[] post) {
    	if(in == null || post == null) return null;
    	
        int rootVal = post[post.length-1];
        TreeNode root = new TreeNode(rootVal);
        
        int[] leftIn = new int[in.length-1],
        	  rightIn = new int[in.length-1],
        	  newPost = new int[post.length-1];
        
        boolean meet = false;
        
        for(int i = 0;i < in.length; i++){
        	int j = 0;
        	if(in[i] == rootVal) {
        		meet = true;
        		continue;
        	}
        	
        	if(!meet) leftIn[i] = in[i];
        	else{
        		rightIn[j] = in[i];
        		j++;
        	}
        }
        
        for(int i = 0; i < post.length-1; i++){
        	newPost[i] = post[i];
        }
        
        root.left = buildTree(leftIn,newPost);
        root.right = buildTree(rightIn,newPost);
        
        return root;
    }
}
